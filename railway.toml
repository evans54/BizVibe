[build]
builder = "NIXPACKS"
dockerfilePath = "Dockerfile.simple"

[deploy]
healthcheckPath = "/health"
healthcheckTimeout = 30000
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[variables]
NODE_ENV = "production"
PORT = "8080"

# Database (Railway provides these automatically)
# DATABASE_URL = (provided by Railway)
# REDIS_URL = (provided by Railway)

# Security Keys (REQUIRED for backend to work)
JWT_SECRET = "your-production-jwt-secret-here-32-chars-minimum"
JWT_REFRESH_SECRET = "your-production-jwt-refresh-secret-here-32-chars-minimum"
ENCRYPTION_KEY = "your-production-encryption-key-here-32-chars-minimum"

# Optional APIs
SERP_API_KEY = ""
TWILIO_ACCOUNT_SID = ""
TWILIO_AUTH_TOKEN = ""
GOOGLE_GBP_API_KEY = ""

# App Configuration
APP_BASE_URL = "https://bizvibe-production-fc8d.up.railway.app"
BACKUP_DIRECTORY = "./backups"
BACKUP_CRON = "0 2 * * *"
